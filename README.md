# Конфигурационное управление
## Вариант 21
### Задание 2
Разработать инструмент командной строки для визуализации графа 
зависимостей, включая транзитивные зависимости. Сторонние средства для 
получения зависимостей использовать нельзя.
Зависимости определяются по имени пакета языка JavaScript (npm). Для 
описания графа зависимостей используется представление Graphviz. 
Визуализатор должен выводить результат на экран в виде кода.
Конфигурационный файл имеет формат json и содержит:

• Путь к программе для визуализации графов.

• Имя анализируемого пакета.

• Путь к файлу-результату в виде кода.

• URL-адрес репозитория.

### Описание

В приведенном вами коде реализуется сбор зависимостей для NPM-пакета с использованием API

для получения данных о пакетах, а затем генерируется граф в формате Graphviz.

Этот код предназначен для визуализации графа зависимостей коммитов JavaScript. 

Он использует конфигурационный файл для указания путей к репозиторию, визуализатору Graphviz и выходному изображению. 

С помощью Graphviz и информации о коммитах и их родителях, код генерирует граф зависимостей в формате изображения.

Создайте файл `config.json` в корневой директории проекта и укажите следующие параметры:

```json
    "graphviz_path": путь к Graphviz
    "package_path": путь к пакету
    "graph_output_path": файл в котором будет сохранен код
    "repository_url": url репозитория
```

## Методы

**`generate_graphviz`**

Эта функция принимает словарь зависимостей (graph) и генерирует строку в формате Graphviz 

для представления этих зависимостей в виде направленного графа. 

Каждая зависимость представляется как стрелка от пакета к его зависимостям.


**`get_npm_dependencies`**

Эта функция делает HTTP-запрос к API NPM для получения данных о пакете по его имени.

Она проверяет статус ответа, извлекает последнюю версию пакета 

и возвращает его зависимости (или пустой словарь, если зависимостей нет).

**`get_transitive_dependencies`**

Эта функция рекурсивно собирает зависимости (включая транзитивные) для указанного пакета.

Она проверяет максимальную глубину рекурсии, чтобы не выходить за ее пределы, и добавляет собранные зависимости в словарь collected.

Если пакет уже был обработан, то дальнейшая обработка прекращается для предотвращения зацикливания.


**`main`**

В функции main происходит:

- Чтение конфигурации из файла config.json (в котором должны быть указаны пути к Graphviz, пакету и выходному файлу, а также URL репозитория).
  
- Вызов функции для получения всех зависимостей указанного пакета.
  
- Сохранение сгенерированного Graphviz-формата зависимостей в файл.

Код предоставляет функционал для анализа зависимостей NPM-пакетов и их визуализации с помощью Graphviz, 

что может быть полезно для понимания структуры зависимости в проекте.

## Результаты тестирования

Код зависимостей:

![image](https://github.com/user-attachments/assets/482cc47f-d853-4aa5-80fb-14498daffba0)

Граф зависимостей:

![graphviz](https://github.com/user-attachments/assets/44fac806-cc29-4afe-93c3-968a0683dbb4)
